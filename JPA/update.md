# update
> Data JPA로 update 쿼리를 사용하는 방법

Spring Data Jpa를 사용하면 Hibernate를 일반적으로 사용하게 되고, dirty checking이라는 것을 사용하게 된다

## 더티 체킹(Dirty Checking)이란?
> Dirty : 상태의 변화가 생긴 / 상태 변경 검사입니다. / Entity를 조회하여 조회된 Entity 데이터를 변경만 하면 데이터베이스에 자동으로 반영되도록 하는 기능이 더디체킹이다.

Jpa에서는 트랜잭션이 끝나는 시점에 변화가 있는 모든 엔티티 객체를 데이터베이스에 자도응로 반영해줍니다.

엔티티를 조회하면 해당 엔티티의 조회 상태 그대로 스냅샷을 만들어 놓게 되는데, 트랜잭션이 끝나는 시점에는 이 스냅샷과 비교해서 다른점이 있다면 Update Query를 데이터베이스로 전달합니다.

상태 변경 검사의 대상은 영속성 컨텍스트가 관리하는 엔티티에만 적용됩니다.

* detach된 엔티티(준영속)
* DB에 반영되기 전 처음 생성된 엔티티(비영속)

## 벌크연산 이란?
> executeUpdate() 메소드 사용 / 여러 건(대량의 데이터)을 한 번에 수정하거나 삭제하는 방법이다.

## 변경감지에 관련한 Builder와 Setter 중 어떤것을 사용할 것인지?
> setter 관련 팀내 규칙이 있다면 팀내 규칙을 우선으로 따르고, 혼자 개발한다면 본인만의 기준을 정해서 대신 왜 그러한 기준을 정했는지에 대한 명확한 자기 생각을 갖고 개발을 하면 된다.





